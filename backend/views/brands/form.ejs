<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title><%= brand ? 'Chỉnh sửa thương hiệu' : 'Thêm thương hiệu mới' %></title>
    <link rel="stylesheet" href="/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      body {
        background-color: #0c0c0c;
        color: #fff;
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
      }

      .page-container {
        margin-left: 200px;
        margin-top: 120px;
        display: flex;
        justify-content: center;
        align-items: flex-start;
      }

      .brand-form-container {
        background: #151515;
        padding: 35px;
        border-radius: 12px;
        width: 600px;
        box-shadow: 0 0 20px rgba(255, 0, 50, 0.2);
      }

      h2 {
        text-align: center;
        color: #c41e3a;
        margin-bottom: 25px;
        letter-spacing: 1px;
      }

      label {
        display: block;
        margin-bottom: 6px;
        color: #ccc;
        font-weight: 500;
      }

      input,
      textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 6px;
        border: none;
        background: #222;
        color: #fff;
        font-size: 15px;
      }

      textarea {
        resize: vertical;
      }

      .form-actions {
  display: grid;
  grid-template-columns: 1fr 1fr; /* chia đều 2 cột */
  gap: 20px;
  margin-top: 20px;
}

.btn-action {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  width: 100%;          /* mỗi nút chiếm trọn cột */
  text-align: center;
  padding: 14px 0;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-size: 16px;
  font-weight: 500;
  transition: 0.3s;
  text-decoration: none;
  color: #fff;
}


      .btn-save {
        background: #c41e3a;
      }

      .btn-save:hover {
        background: #a0142e;
      }

      .btn-back {
        background: #333;
      }

      .btn-back:hover {
        background: #444;
      }

      p.error {
        color: #ff5050;
        text-align: center;
        margin-bottom: 15px;
      }
    </style>
  </head>

  <body>
    <%- include('../partials/admindashboard') %>

    <div class="page-container">
      <div class="brand-form-container">
        <h2><%= brand ? 'Chỉnh sửa thương hiệu' : 'Thêm thương hiệu mới' %></h2>

        <% if (typeof error !== 'undefined' && error) { %>
          <p class="error"><%= error %></p>
        <% } %>

        <form
          action="<%= brand ? `/brands/${brand._id}/edit` : '/brands/add' %>"
          method="POST"
        >
          <label for="name">Tên thương hiệu *</label>
          <input
            type="text"
            id="name"
            name="name"
            value="<%= brand ? brand.name : '' %>"
            required
          />

          <label for="country">Quốc gia</label>
          <input
            type="text"
            id="country"
            name="country"
            value="<%= brand ? brand.country : '' %>"
          />

          <label for="foundedYear">Năm thành lập</label>
          <input
            type="number"
            id="foundedYear"
            name="foundedYear"
            min="1800"
            max="<%= new Date().getFullYear() %>"
            value="<%= brand ? brand.foundedYear : '' %>"
          />

          <label for="website">Website</label>
          <input
            type="url"
            id="website"
            name="website"
            placeholder="https://example.com"
            value="<%= brand ? brand.website : '' %>"
          />

          <label for="description">Mô tả</label>
          <textarea id="description" name="description" rows="4"><%= brand ? brand.description : '' %></textarea>

          <div class="form-actions">
            <button type="submit" class="btn-action btn-save">
              <i class="fa-solid fa-floppy-disk"></i>
              <%= brand ? 'Cập nhật' : 'Lưu' %>
            </button>
            <a href="/brands" class="btn-action btn-back">
              <i class="fa-solid fa-arrow-left"></i> Quay lại
            </a>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
